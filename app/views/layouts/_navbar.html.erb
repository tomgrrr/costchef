<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container-fluid">
    <%= link_to root_path, class: "navbar-brand" do %>
      <i class="bi bi-calculator"></i> CostChef
    <% end %>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMain">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarMain">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <%= link_to products_path, class: "nav-link #{'active' if controller_name == 'products'}" do %>
            <i class="bi bi-box-seam"></i> Référentiel Produits
          <% end %>
        </li>
        <li class="nav-item">
          <%= link_to suppliers_path, class: "nav-link #{'active' if controller_name == 'suppliers'}" do %>
            <i class="bi bi-truck"></i> Fournisseurs
          <% end %>
        </li>
        <li class="nav-item">
          <%= link_to recipes_path, class: "nav-link #{'active' if controller_name == 'recipes'}" do %>
            <i class="bi bi-journal-text"></i> Recettes
          <% end %>
        </li>
      </ul>

      <% if user_signed_in? %>
        <div class="d-flex align-items-center">
          <span class="navbar-text text-white me-3">
            <i class="bi bi-person-circle"></i>
            <%= current_user.first_name.present? ? "#{current_user.first_name} #{current_user.last_name}" : current_user.email %>
          </span>
          <%= button_to destroy_user_session_path, method: :delete, class: "btn btn-outline-light btn-sm" do %>
            Déconnexion
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</nav>
